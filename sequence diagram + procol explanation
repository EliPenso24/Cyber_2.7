Participant,Action
User,→ Client: Input: DIR /path
Client,"→ Protocol: create_request(CMD_DIR, {path: /path})"
Protocol,"→ Client: JSON_Request<DIR, params>"
Client,"→ Server: JSON_Request<DIR, params>"
Server,→ Protocol: parse_message(request)
Server,: Internal: cmd_dir() executes glob.glob()
Server,"→ Protocol: create_response(SUCCESS, message, {files: []})"
Protocol,"→ Server: JSON_Response<SUCCESS, data>"
Server,"→ Client: JSON_Response<SUCCESS, data>"
Client,→ Protocol: parse_message(response)
Client,→ User: Output: Success. Found N files...

Participant,Action
User,→ Client: Input: DELETE file.txt
Client,"→ Protocol: create_request(CMD_DELETE, {file_path: file.txt})"
Protocol,"→ Client: JSON_Request<DELETE, params>"
Client,"→ Server: JSON_Request<DELETE, params>"
Server,→ Protocol: parse_message(request)
Server,: Internal: cmd_delete() executes os.remove()
Server,"→ Protocol: create_response(SUCCESS/ERROR, message)"
Protocol,"→ Server: JSON_Response<STATUS, message>"
Server,"→ Client: JSON_Response<STATUS, message>"
Client,→ Protocol: parse_message(response)
Client,→ User: Output: Status and message

Participant,Action
User,→ Client: Input: COPY src dest
Client,"→ Protocol: create_request(CMD_COPY, {source: src, destination: dest})"
Protocol,"→ Client: JSON_Request<COPY, params>"
Client,"→ Server: JSON_Request<COPY, params>"
Server,→ Protocol: parse_message(request)
Server,: Internal: cmd_copy() executes shutil.copy()
Server,"→ Protocol: create_response(SUCCESS/ERROR, message)"
Protocol,"→ Server: JSON_Response<STATUS, message>"
Server,"→ Client: JSON_Response<STATUS, message>"
Client,→ Protocol: parse_message(response)
Client,→ User: Output: Status and message

Participant,Action
User,→ Client: Input: EXECUTE program.exe
Client,"→ Protocol: create_request(CMD_EXECUTE, {program_path: program.exe})"
Protocol,"→ Client: JSON_Request<EXECUTE, params>"
Client,"→ Server: JSON_Request<EXECUTE, params>"
Server,→ Protocol: parse_message(request)
Server,: Internal: cmd_execute() executes subprocess.Popen()
Server,"→ Protocol: create_response(SUCCESS/ERROR, message)"
Protocol,"→ Server: JSON_Response<STATUS, message>"
Server,"→ Client: JSON_Response<STATUS, message>"
Client,→ Protocol: parse_message(response)
Client,→ User: Output: Status and message

Participant,Action
User,→ Client: Input: SCREENSHOT
Client,"→ Protocol: create_request(CMD_SCREENSHOT, {save_path: screen.jpg})"
Protocol,"→ Client: JSON_Request<SCREENSHOT, params>"
Client,"→ Server: JSON_Request<SCREENSHOT, params>"
Server,→ Protocol: parse_message(request)
Server,: Internal: cmd_screenshot() executes pyautogui.screenshot()
Server,"→ Protocol: create_response(SUCCESS/ERROR, message, {path: screen.jpg})"
Protocol,"→ Server: JSON_Response<STATUS, data>"
Server,"→ Client: JSON_Response<STATUS, data>"
Client,→ Protocol: parse_message(response)
Client,→ User: Output: Status and message (Path: screen.jpg)

Participant,Action
User,→ Client: Input: SEND_PHOTO file.jpg
Client,"→ Protocol: create_request(CMD_SEND_PHOTO, {image_path: file.jpg})"
Protocol,"→ Client: JSON_Request<SEND_PHOTO, params>"
Client,"→ Server: JSON_Request<SEND_PHOTO, params>"
Server,→ Protocol: parse_message(request)
Server,": Internal: cmd_send_photo() reads file, gets binary_data, and size"
Server,"→ Protocol: create_response(SUCCESS, message, {size: N}) (Step 1: Text Response)"
Protocol,"→ Server: JSON_Response<SUCCESS, {size: N}>"
Server,"→ Client: JSON_Response<SUCCESS, {size: N}>"
Client,→ Protocol: parse_message(response)
Client,: Internal: Reads size=N from response
Client,← Server: Protocol: send_binary(binary_data) (Step 2: Binary Data)
Client,: Internal: Protocol.receive_binary(N) saves data to result['binary']
Client,→ User: Output: Success. Photo saved locally.
Client,: Internal: Client saves result['binary'] to sentscreen.jpg

Participant,Action
User,→ Client: Input: EXIT
Client,→ Protocol: create_request(CMD_EXIT)
Protocol,→ Client: JSON_Request<EXIT>
Client,→ Server: JSON_Request<EXIT>
Server,→ Protocol: parse_message(request)
Server,"→ Protocol: create_response(SUCCESS, Goodbye)"
Protocol,"→ Server: JSON_Response<SUCCESS, Goodbye>"
Server,"→ Client: JSON_Response<SUCCESS, Goodbye>"
Server,: Internal: Server closes client socket
Client,→ Protocol: parse_message(response)
Client,: Internal: Client.disconnect() closes client socket
Client,→ User: Output: Goodbye. Disconnected.

The Protocol serves as the system's communication standard,
acting as both a translator and packager for actions and responses over the TCP network connection.
For client actions, the Protocol consistently packages the command (e.g., DIR, DELETE, COPY) along
with any necessary variables (zero to two, such as file paths) into a structured JSON Request.
Upon execution by the server's function handler, the server uses the Protocol to format the result
into a JSON Response, which includes a status (success or error), a descriptive message, and any resulting data.
Crucially, when a client requests a file using the SEND_PHOTO command, the server first sends a JSON Response
containing the requested file's exact size in bytes (N), and only then uses the Protocol to perform a separate,
dedicated transfer of the raw binary data (the file itself) to ensure efficient file transmission.
